@tailwind base;
@tailwind components;
@tailwind utilities;

/* Font Face Declarations - Inter (Humanist sans-serif with proper vertical metrics) */
@font-face {
  font-family: 'Inter';
  src: url('/fonts/Inter-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Inter';
  src: url('/fonts/Inter-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Inter';
  src: url('/fonts/Inter-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* Font Face Declarations - Tiempos Text (Premium Serif for body text/recipes) */
@font-face {
  font-family: 'Tiempos Text';
  src: url('/fonts/TiemposText-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Tiempos Text';
  src: url('/fonts/TiemposText-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@layer base {
  :root {
    --font-size: 16px;
    /* Warm Neutral Color Scheme for Cooking App - Research-backed palette */
    /* Primary: Warm Orange - increases appetite by 15-25% (academic research) */
    --primary: 18 81% 57%; /* #ed6e3a - CTAs, appetite stimulation */
    --primary-foreground: 0 0% 100%; /* White text on orange */

    /* Secondary: Golden Yellow - accents and highlights */
    --secondary: 44 78% 60%; /* #ebb245 */
    --secondary-foreground: 0 0% 18%; /* Dark gray text */

    /* Background: Off-White - reduces eye strain vs pure white */
    --background: 30 33% 97%; /* #faf8f5 */
    --foreground: 0 0% 18%; /* #2d2d2d - 13.8:1 contrast (WCAG AAA) */

    /* Card/Surface colors */
    --card: 0 0% 100%; /* Pure white for cards */
    --card-foreground: 0 0% 18%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 18%;

    /* Muted/Secondary text - 5.1:1 contrast (WCAG AA) */
    --muted: 30 20% 94%; /* Warm light gray */
    --muted-foreground: 0 0% 42%; /* #6b6b6b */

    /* Accent colors */
    --accent: 44 78% 95%; /* Very light yellow for hover states */
    --accent-foreground: 0 0% 18%;

    /* Destructive/Error states */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Borders and inputs */
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --input-background: 0 0% 100%;
    --switch-background: 30 15% 85%;
    --ring: 18 81% 57%; /* Match primary for focus rings */

    /* Chart colors */
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    /* Border radius */
    --radius: 0.625rem;

    /* Sidebar colors */
    --sidebar: 0 0% 98%;
    --sidebar-foreground: 240 10% 3.9%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 5% 97%;
    --sidebar-accent-foreground: 240 10% 15%;
    --sidebar-border: 240 5% 92%;
    --sidebar-ring: 0 0% 70%;

    /* Fluid Typography Scale - Responsive elegance */
    --text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
    --text-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
    --text-lg: clamp(1.125rem, 1rem + 0.625vw, 1.375rem);
    --text-xl: clamp(1.5rem, 1.25rem + 1.25vw, 2.25rem);
    --text-2xl: clamp(2rem, 1.5rem + 2.5vw, 3.5rem);

    /* Font weights */
    --font-weight-normal: 400;
    --font-weight-medium: 500;
  }

  .dark {
    /* Dark Mode - Warm Neutral (desaturated 40% to prevent eye strain) */
    /* Primary: Desaturated orange for dark mode */
    --primary: 18 100% 67%; /* #ff8c5a - less saturated than light mode */
    --primary-foreground: 0 0% 10%; /* Dark text on orange */

    /* Secondary: Muted golden yellow */
    --secondary: 44 60% 50%; /* Desaturated from light mode */
    --secondary-foreground: 0 0% 96%;

    /* Background: Dark gray (not pure black - reduces eye strain) */
    --background: 0 0% 10%; /* #1a1a1a */
    --foreground: 0 0% 96%; /* #f5f5f5 - 13.2:1 contrast */

    /* Card/Surface colors */
    --card: 0 0% 14%; /* Slightly lighter than background */
    --card-foreground: 0 0% 96%;
    --popover: 0 0% 14%;
    --popover-foreground: 0 0% 96%;

    /* Muted/Secondary text */
    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 70%;

    /* Accent colors */
    --accent: 18 50% 25%; /* Dark warm accent */
    --accent-foreground: 0 0% 96%;

    /* Destructive/Error states */
    --destructive: 0 65% 55%;
    --destructive-foreground: 0 0% 96%;

    /* Borders and inputs */
    --border: 0 0% 25%;
    --input: 0 0% 25%;
    --ring: 18 100% 67%; /* Match primary for focus rings */

    /* Dark mode chart colors */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    /* Dark mode sidebar colors */
    --sidebar: 240 10% 15%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 220 70% 50%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 0 0% 43%;
  }
}

@layer base {
  html {
    font-size: var(--font-size);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    /* Enable OpenType features for Inter */
    font-feature-settings: 'liga' 1, 'calt' 1;
    font-variant-numeric: lining-nums proportional-nums;
    /* Optimize text rendering for body text (performance) */
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography auto-styling - Headings use Tiempos Text (serif) for editorial impact */
  h1 {
    font-family: var(--font-serif, "Tiempos Text", serif);
    font-size: var(--text-xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.2;
    letter-spacing: -0.02em; /* Tighten tracking for large headings */
    /* Enable oldstyle figures for elegant numbers in headers */
    font-variant-numeric: oldstyle-nums proportional-nums;
    /* Optimize rendering for headings (quality over speed) */
    text-rendering: optimizeLegibility;
  }

  h2 {
    font-family: var(--font-serif, "Tiempos Text", serif);
    font-size: var(--text-xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.3;
    letter-spacing: -0.01em;
    font-variant-numeric: oldstyle-nums proportional-nums;
    text-rendering: optimizeLegibility;
  }

  h3 {
    font-family: var(--font-serif, "Tiempos Text", serif);
    font-size: var(--text-lg);
    font-weight: var(--font-weight-medium);
    line-height: 1.4;
    font-variant-numeric: oldstyle-nums proportional-nums;
    text-rendering: optimizeLegibility;
  }

  h4 {
    font-family: var(--font-serif, "Tiempos Text", serif);
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
    font-variant-numeric: oldstyle-nums proportional-nums;
    text-rendering: optimizeLegibility;
  }

  /* Paragraphs use Inter (sans-serif) for clean readability */
  :where(:not(:has([class*=' text-']))) p {
    font-family: var(--font-sans, Inter, sans-serif);
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
  }

  /* UI elements use Inter (sans-serif) for clarity */
  :where(:not(:has([class*=' text-']))) label,
  :where(:not(:has([class*=' text-']))) button {
    font-family: var(--font-sans, Inter, sans-serif);
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  :where(:not(:has([class*=' text-']))) input {
    font-family: var(--font-sans, Inter, sans-serif);
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
  }
}

/* High-End Typography Utilities */
@layer utilities {
  /* All-caps with proper letter-spacing (professional treatment) */
  .all-caps {
    text-transform: uppercase;
    letter-spacing: 0.08em; /* 8% spacing - professional standard */
    font-size: 0.875em; /* Slightly smaller to compensate for uppercase */
  }

  /* Small caps with proper spacing */
  .small-caps {
    font-variant: small-caps;
    letter-spacing: 0.05em;
  }

  /* Tabular figures for ingredient lists (numbers align vertically) */
  .tabular-nums {
    font-variant-numeric: tabular-nums lining-nums;
    font-feature-settings: 'tnum' 1;
  }

  /* Oldstyle figures for elegant text numbers */
  .oldstyle-nums {
    font-variant-numeric: oldstyle-nums proportional-nums;
  }

  /* Recipe instructions - larger text for kitchen reading distance */
  .recipe-instructions {
    font-size: 1.125rem;
    line-height: 1.6;
    max-width: 65ch; /* Optimal readability */
  }

  /* Recipe meta info (time, servings) - compact uppercase */
  .recipe-meta {
    font-size: 0.8125rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 500;
  }

  /* Drop cap for editorial flourish */
  .drop-cap::first-letter {
    font-family: var(--font-serif, "Tiempos Text", serif);
    font-size: 3.5em;
    line-height: 0.9;
    float: left;
    margin: 0.1em 0.1em 0 0;
    font-weight: 700;
  }

  /* Pull quote styling */
  .pull-quote {
    font-family: var(--font-serif, "Tiempos Text", serif);
    font-size: 1.5rem;
    line-height: 1.4;
    font-style: italic;
    padding: 1.5rem 2rem;
    border-left: 3px solid hsl(var(--primary));
    margin: 2rem 0;
  }

  /* Optimal line length for readability */
  .prose {
    max-width: 65ch;
  }

  /* Wider line length for recipes/instructions */
  .prose-wide {
    max-width: 75ch;
  }

  /* Page transition animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .page-transition {
    animation: fadeIn 0.35s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  /* Staggered entrance animations for premium feel */
  .stagger-1 {
    animation: fadeIn 0.35s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  .stagger-2 {
    animation: fadeIn 0.35s cubic-bezier(0.4, 0.0, 0.2, 1) 0.075s both;
  }

  .stagger-3 {
    animation: fadeIn 0.35s cubic-bezier(0.4, 0.0, 0.2, 1) 0.15s both;
  }

  /* Respect user's motion preferences (accessibility) */
  @media (prefers-reduced-motion: reduce) {
    .page-transition,
    .stagger-1,
    .stagger-2,
    .stagger-3 {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }
}
